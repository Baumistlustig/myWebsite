<mat-card>
  <mat-card-header>
    <mat-card-title>Profile Settings</mat-card-title>
    <mat-card-subtitle
      >Change your profile image, status & bio
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <form
      [formGroup]="profileGroup"
      (ngSubmit)="saveSettings()"
      fxLayoutAlign="stretch"
      fxLayout="column"
      class="post-form"
    >
      <mat-form-field>
        <input matInput placeholder="Status" formControlName="status" />
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Bio" formControlName="bio" />
      </mat-form-field>

      <div class="file-upload">
        <input
          type="file"
          class="file-input"
          (change)="onFileSelected($event)"
          #fileUpload
        />

        <div class="file-upload">
          {{ fileName || 'No file uploaded yet.' }}

          <button
            mat-mini-fab
            color="primary"
            class="upload-btn"
            (click)="fileUpload.click()"
          >
            <mat-icon>attach_file</mat-icon>
          </button>
        </div>
      </div>

      <img
        src="{{ domain }}profile/picture/{{ userId }}"
        class="profile-picture"
        alt="profile-picture"
      />
      <button
        mat-raised-button
        color="primary"
        type="submit"
        fxFlexFill
        [disabled]="profileGroup.invalid"
      >
        Save
      </button>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <a mat-button href="profiles/{{ user.username }}">Preview</a>
  </mat-card-actions>
</mat-card>
